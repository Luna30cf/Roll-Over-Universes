{# templates/security/login.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Login{% endblock %}

{% block body %}
    <div class="container d-flex justify-content-center align-items-center" style="height: 100vh;">
        <div class="card shadow-lg p-4" style="max-width: 400px; width: 100%;">
            <h1 class="text-center mb-4">Login</h1>

            {# Affichage des erreurs #}
            {% if error %}
                <div class="alert alert-danger">
                    {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}

            {# Formulaire de connexion #}
            {{ form_start(loginForm, {'attr': {'class': 'login-form'}}) }}
                
                <div class="form-group">
                    {{ form_label(loginForm._username, 'Username', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(loginForm._username, {'attr': {'class': 'form-control', 'placeholder': 'Enter your username'}}) }}
                    {{ form_errors(loginForm._username) }}
                </div>

                <div class="form-group">
                    {{ form_label(loginForm._password, 'Password', {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(loginForm._password, {'attr': {'class': 'form-control', 'placeholder': 'Enter your password'}}) }}
                    {{ form_errors(loginForm._password) }}
                </div>

                <div class="form-group d-flex justify-content-between align-items-center">
                    <div>
                        {# Case "remember me" si nécessaire #}
                        <label class="form-check-label">
                            <input type="checkbox" class="form-check-input" name="remember_me" value="1"> Remember me
                        </label>
                    </div>
                    <div>
                        {# Lien pour la récupération du mot de passe #}
                        <a href="{{ path('app_forgot_password') }}" class="small">Forgot password?</a>
                    </div>
                </div>

                <div class="form-group text-center">
                    <button type="submit" class="btn btn-primary w-100">Login</button>
                </div>

            {{ form_end(loginForm) }}

            {# Lien vers l'inscription si nécessaire #}
            <div class="text-center mt-3">
                <p>Don't have an account? <a href="{{ path('app_register') }}">Sign up</a></p>
            </div>
        </div>
    </div>
{% endblock %}
